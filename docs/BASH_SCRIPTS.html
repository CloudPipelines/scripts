<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>SCRIPTS</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>SCRIPTS</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#pipeline-sh1">pipeline.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name">1. NAME</a></li>
<li><a href="#synopsis">2. SYNOPSIS</a></li>
<li><a href="#functions">3. FUNCTIONS</a></li>
<li><a href="#details">4. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body">4.1. Script Body</a></li>
<li><a href="#apicompatibilitycheck">4.2. apiCompatibilityCheck</a></li>
<li><a href="#build">4.3. build</a></li>
<li><a href="#completeswitchover">4.4. completeSwitchOver</a></li>
<li><a href="#defineprojectsetup">4.5. defineProjectSetup</a></li>
<li><a href="#deleteservice">4.6. deleteService</a></li>
<li><a href="#deployservice">4.7. deployService</a></li>
<li><a href="#deployservices">4.8. deployServices</a></li>
<li><a href="#envnodeexists">4.9. envNodeExists</a></li>
<li><a href="#executeapicompatibilitycheck">4.10. executeApiCompatibilityCheck</a></li>
<li><a href="#extractversionfromprodtag">4.11. extractVersionFromProdTag</a></li>
<li><a href="#findlatestprodtag">4.12. findLatestProdTag</a></li>
<li><a href="#getmainmodulepath">4.13. getMainModulePath</a></li>
<li><a href="#latestprodtagfromgit">4.14. latestProdTagFromGit</a></li>
<li><a href="#outputfolder">4.15. outputFolder</a></li>
<li><a href="#parsepipelinedescriptor">4.16. parsePipelineDescriptor</a></li>
<li><a href="#preparefore2etests">4.17. prepareForE2eTests</a></li>
<li><a href="#prepareforsmoketests">4.18. prepareForSmokeTests</a></li>
<li><a href="#proddeploy">4.19. prodDeploy</a></li>
<li><a href="#projecttype">4.20. projectType</a></li>
<li><a href="#removeprodtag">4.21. removeProdTag</a></li>
<li><a href="#retrieveappname">4.22. retrieveAppName</a></li>
<li><a href="#retrievegroupid">4.23. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids">4.24. retrieveStubRunnerIds</a></li>
<li><a href="#rollbacktopreviousversion">4.25. rollbackToPreviousVersion</a></li>
<li><a href="#rune2etests">4.26. runE2eTests</a></li>
<li><a href="#runsmoketests">4.27. runSmokeTests</a></li>
<li><a href="#serviceexists">4.28. serviceExists</a></li>
<li><a href="#stagedeploy">4.29. stageDeploy</a></li>
<li><a href="#testdeploy">4.30. testDeploy</a></li>
<li><a href="#testresultsantpattern">4.31. testResultsAntPattern</a></li>
<li><a href="#testrollbackdeploy">4.32. testRollbackDeploy</a></li>
<li><a href="#tolowercase">4.33. toLowerCase</a></li>
<li><a href="#trimrefstag">4.34. trimRefsTag</a></li>
<li><a href="#yaml2json">4.35. yaml2json</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-projecttype-sh1">pipeline-projectType.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-2">5. NAME</a></li>
<li><a href="#synopsis-2">6. SYNOPSIS</a></li>
<li><a href="#functions-2">7. FUNCTIONS</a></li>
<li><a href="#details-2">8. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-2">8.1. Script Body</a></li>
<li><a href="#getlanguagetype">8.2. getLanguageType</a></li>
<li><a href="#guesslanguagetype">8.3. guessLanguageType</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-jvm-sh1">pipeline-jvm.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-3">9. NAME</a></li>
<li><a href="#synopsis-3">10. SYNOPSIS</a></li>
<li><a href="#functions-3">11. FUNCTIONS</a></li>
<li><a href="#details-3">12. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-3">12.1. Script Body</a></li>
<li><a href="#downloadappbinary">12.2. downloadAppBinary</a></li>
<li><a href="#isgradleproject">12.3. isGradleProject</a></li>
<li><a href="#ismavenproject">12.4. isMavenProject</a></li>
<li><a href="#projecttype-2">12.5. projectType</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-maven-sh1">pipeline-maven.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-4">13. NAME</a></li>
<li><a href="#synopsis-4">14. SYNOPSIS</a></li>
<li><a href="#functions-4">15. FUNCTIONS</a></li>
<li><a href="#details-4">16. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-4">16.1. Script Body</a></li>
<li><a href="#build-2">16.2. build</a></li>
<li><a href="#executeapicompatibilitycheck-2">16.3. executeApiCompatibilityCheck</a></li>
<li><a href="#extractmavenproperty">16.4. extractMavenProperty</a></li>
<li><a href="#outputfolder-2">16.5. outputFolder</a></li>
<li><a href="#printtestresults">16.6. printTestResults</a></li>
<li><a href="#retrieveappname-2">16.7. retrieveAppName</a></li>
<li><a href="#retrievegroupid-2">16.8. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids-2">16.9. retrieveStubRunnerIds</a></li>
<li><a href="#rune2etests-2">16.10. runE2eTests</a></li>
<li><a href="#runsmoketests-2">16.11. runSmokeTests</a></li>
<li><a href="#testresultsantpattern-2">16.12. testResultsAntPattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-gradle-sh1">pipeline-gradle.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-5">17. NAME</a></li>
<li><a href="#synopsis-5">18. SYNOPSIS</a></li>
<li><a href="#functions-5">19. FUNCTIONS</a></li>
<li><a href="#details-5">20. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-5">20.1. Script Body</a></li>
<li><a href="#build-3">20.2. build</a></li>
<li><a href="#executeapicompatibilitycheck-3">20.3. executeApiCompatibilityCheck</a></li>
<li><a href="#outputfolder-3">20.4. outputFolder</a></li>
<li><a href="#printtestresults-2">20.5. printTestResults</a></li>
<li><a href="#retrieveappname-3">20.6. retrieveAppName</a></li>
<li><a href="#retrievegroupid-3">20.7. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids-3">20.8. retrieveStubRunnerIds</a></li>
<li><a href="#rune2etests-3">20.9. runE2eTests</a></li>
<li><a href="#runsmoketests-3">20.10. runSmokeTests</a></li>
<li><a href="#testresultsantpattern-3">20.11. testResultsAntPattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-php-sh1">pipeline-php.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-6">21. NAME</a></li>
<li><a href="#synopsis-6">22. SYNOPSIS</a></li>
<li><a href="#functions-6">23. FUNCTIONS</a></li>
<li><a href="#details-6">24. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-6">24.1. Script Body</a></li>
<li><a href="#build-4">24.2. build</a></li>
<li><a href="#downloadappbinary-2">24.3. downloadAppBinary</a></li>
<li><a href="#downloadcomposerifmissing">24.4. downloadComposerIfMissing</a></li>
<li><a href="#executeapicompatibilitycheck-4">24.5. executeApiCompatibilityCheck</a></li>
<li><a href="#installphpifmissing">24.6. installPhpIfMissing</a></li>
<li><a href="#outputfolder-4">24.7. outputFolder</a></li>
<li><a href="#projecttype-3">24.8. projectType</a></li>
<li><a href="#retrieveappname-4">24.9. retrieveAppName</a></li>
<li><a href="#retrievegroupid-4">24.10. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids-4">24.11. retrieveStubRunnerIds</a></li>
<li><a href="#rune2etests-4">24.12. runE2eTests</a></li>
<li><a href="#runsmoketests-4">24.13. runSmokeTests</a></li>
<li><a href="#testresultsantpattern-4">24.14. testResultsAntPattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-npm-sh1">pipeline-npm.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-7">25. NAME</a></li>
<li><a href="#synopsis-7">26. SYNOPSIS</a></li>
<li><a href="#functions-7">27. FUNCTIONS</a></li>
<li><a href="#details-7">28. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-7">28.1. Script Body</a></li>
<li><a href="#build-5">28.2. build</a></li>
<li><a href="#downloadappbinary-3">28.3. downloadAppBinary</a></li>
<li><a href="#downloadnpmifmissing">28.4. downloadNpmIfMissing</a></li>
<li><a href="#executeapicompatibilitycheck-5">28.5. executeApiCompatibilityCheck</a></li>
<li><a href="#installnodeifmissing">28.6. installNodeIfMissing</a></li>
<li><a href="#outputfolder-5">28.7. outputFolder</a></li>
<li><a href="#projecttype-4">28.8. projectType</a></li>
<li><a href="#retrieveappname-5">28.9. retrieveAppName</a></li>
<li><a href="#retrievegroupid-5">28.10. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids-5">28.11. retrieveStubRunnerIds</a></li>
<li><a href="#rune2etests-5">28.12. runE2eTests</a></li>
<li><a href="#runsmoketests-5">28.13. runSmokeTests</a></li>
<li><a href="#testresultsantpattern-5">28.14. testResultsAntPattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-dotnet-sh1">pipeline-dotnet.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-8">29. NAME</a></li>
<li><a href="#synopsis-8">30. SYNOPSIS</a></li>
<li><a href="#functions-8">31. FUNCTIONS</a></li>
<li><a href="#details-8">32. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-8">32.1. Script Body</a></li>
<li><a href="#build-6">32.2. build</a></li>
<li><a href="#downloadappbinary-4">32.3. downloadAppBinary</a></li>
<li><a href="#executeapicompatibilitycheck-6">32.4. executeApiCompatibilityCheck</a></li>
<li><a href="#outputfolder-6">32.5. outputFolder</a></li>
<li><a href="#projecttype-5">32.6. projectType</a></li>
<li><a href="#retrieveappname-6">32.7. retrieveAppName</a></li>
<li><a href="#retrievegroupid-6">32.8. retrieveGroupId</a></li>
<li><a href="#retrievestubrunnerids-6">32.9. retrieveStubRunnerIds</a></li>
<li><a href="#rune2etests-6">32.10. runE2eTests</a></li>
<li><a href="#runsmoketests-6">32.11. runSmokeTests</a></li>
<li><a href="#testresultsantpattern-6">32.12. testResultsAntPattern</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-cf-sh1">pipeline-cf.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-9">33. NAME</a></li>
<li><a href="#synopsis-9">34. SYNOPSIS</a></li>
<li><a href="#functions-9">35. FUNCTIONS</a></li>
<li><a href="#details-9">36. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-9">36.1. Script Body</a></li>
<li><a href="#addmultipleportssupport">36.2. addMultiplePortsSupport</a></li>
<li><a href="#bindservice">36.3. bindService</a></li>
<li><a href="#completeswitchover-2">36.4. completeSwitchOver</a></li>
<li><a href="#createservicewithname">36.5. createServiceWithName</a></li>
<li><a href="#deleteapp">36.6. deleteApp</a></li>
<li><a href="#deleteservice-2">36.7. deleteService</a></li>
<li><a href="#deployandrestartappwithname">36.8. deployAndRestartAppWithName</a></li>
<li><a href="#deployappasservice">36.9. deployAppAsService</a></li>
<li><a href="#deployappnostart">36.10. deployAppNoStart</a></li>
<li><a href="#deploybrokeredservice">36.11. deployBrokeredService</a></li>
<li><a href="#deploycupsservice">36.12. deployCupsService</a></li>
<li><a href="#deployservice-2">36.13. deployService</a></li>
<li><a href="#deploystubrunnerboot">36.14. deployStubRunnerBoot</a></li>
<li><a href="#getapphostfrompaas">36.15. getAppHostFromPaas</a></li>
<li><a href="#getartifacttype">36.16. getArtifactType</a></li>
<li><a href="#getdomain">36.17. getDomain</a></li>
<li><a href="#gethostfrommanifest">36.18. getHostFromManifest</a></li>
<li><a href="#getinstancesfrommanifest">36.19. getInstancesFromManifest</a></li>
<li><a href="#getprofilesfrommanifest">36.20. getProfilesFromManifest</a></li>
<li><a href="#hostname">36.21. hostname</a></li>
<li><a href="#logintopaas">36.22. logInToPaas</a></li>
<li><a href="#parsemanifest">36.23. parseManifest</a></li>
<li><a href="#pathtopushtocf">36.24. pathToPushToCf</a></li>
<li><a href="#pathtounpackedsources">36.25. pathToUnpackedSources</a></li>
<li><a href="#performproductiondeploymentoftestedapplication">36.26. performProductionDeploymentOfTestedApplication</a></li>
<li><a href="#preparefore2etests-2">36.27. prepareForE2eTests</a></li>
<li><a href="#prepareforsmoketests-2">36.28. prepareForSmokeTests</a></li>
<li><a href="#proddeploy-2">36.29. prodDeploy</a></li>
<li><a href="#propagatepropertiesfortests">36.30. propagatePropertiesForTests</a></li>
<li><a href="#readtestpropertiesfromfile">36.31. readTestPropertiesFromFile</a></li>
<li><a href="#restartapp">36.32. restartApp</a></li>
<li><a href="#retrieveapplicationurl">36.33. retrieveApplicationUrl</a></li>
<li><a href="#rollbacktopreviousversion-2">36.34. rollbackToPreviousVersion</a></li>
<li><a href="#setenvvar">36.35. setEnvVar</a></li>
<li><a href="#setenvvarifmissing">36.36. setEnvVarIfMissing</a></li>
<li><a href="#stagedeploy-2">36.37. stageDeploy</a></li>
<li><a href="#testcleanup">36.38. testCleanup</a></li>
<li><a href="#testdeploy-2">36.39. testDeploy</a></li>
<li><a href="#testrollbackdeploy-2">36.40. testRollbackDeploy</a></li>
<li><a href="#waitforservicestoinitialize">36.41. waitForServicesToInitialize</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-k8s-sh1">pipeline-k8s.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-10">37. NAME</a></li>
<li><a href="#synopsis-10">38. SYNOPSIS</a></li>
<li><a href="#functions-10">39. FUNCTIONS</a></li>
<li><a href="#details-10">40. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-10">40.1. Script Body</a></li>
<li><a href="#deployservice-3">40.2. deployService</a></li>
<li><a href="#logintopaas-2">40.3. logInToPaas</a></li>
<li><a href="#testdeploy-3">40.4. testDeploy</a></li>
<li><a href="#testrollbackdeploy-3">40.5. testRollbackDeploy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#pipeline-ansible-sh1">pipeline-ansible.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-11">41. NAME</a></li>
<li><a href="#synopsis-11">42. SYNOPSIS</a></li>
<li><a href="#functions-11">43. FUNCTIONS</a></li>
<li><a href="#details-11">44. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-11">44.1. Script Body</a></li>
<li><a href="#__ansible_inventory">44.2. __ansible_inventory</a></li>
<li><a href="#__ansible_playbook">44.3. __ansible_playbook</a></li>
<li><a href="#completeswitchover-3">44.4. completeSwitchOver</a></li>
<li><a href="#logintopaas-3">44.5. logInToPaas</a></li>
<li><a href="#preparefore2etests-3">44.6. prepareForE2eTests</a></li>
<li><a href="#prepareforsmoketests-3">44.7. prepareForSmokeTests</a></li>
<li><a href="#proddeploy-3">44.8. prodDeploy</a></li>
<li><a href="#rollbacktopreviousversion-3">44.9. rollbackToPreviousVersion</a></li>
<li><a href="#stagedeploy-3">44.10. stageDeploy</a></li>
<li><a href="#testdeploy-4">44.11. testDeploy</a></li>
<li><a href="#testrollbackdeploy-4">44.12. testRollbackDeploy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#build_and_upload-sh1">build_and_upload.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-12">45. NAME</a></li>
<li><a href="#synopsis-12">46. SYNOPSIS</a></li>
<li><a href="#functions-12">47. FUNCTIONS</a></li>
<li><a href="#details-12">48. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-12">48.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#test_deploy-sh1">test_deploy.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-13">49. NAME</a></li>
<li><a href="#synopsis-13">50. SYNOPSIS</a></li>
<li><a href="#functions-13">51. FUNCTIONS</a></li>
<li><a href="#details-13">52. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-13">52.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#test_smoke-sh1">test_smoke.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-14">53. NAME</a></li>
<li><a href="#synopsis-14">54. SYNOPSIS</a></li>
<li><a href="#functions-14">55. FUNCTIONS</a></li>
<li><a href="#details-14">56. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-14">56.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#test_rollback_deploy-sh1">test_rollback_deploy.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-15">57. NAME</a></li>
<li><a href="#synopsis-15">58. SYNOPSIS</a></li>
<li><a href="#functions-15">59. FUNCTIONS</a></li>
<li><a href="#details-15">60. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-15">60.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#test_rollback_smoke-sh1">test_rollback_smoke.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-16">61. NAME</a></li>
<li><a href="#synopsis-16">62. SYNOPSIS</a></li>
<li><a href="#functions-16">63. FUNCTIONS</a></li>
<li><a href="#details-16">64. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-16">64.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#stage_deploy-sh1">stage_deploy.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-17">65. NAME</a></li>
<li><a href="#synopsis-17">66. SYNOPSIS</a></li>
<li><a href="#functions-17">67. FUNCTIONS</a></li>
<li><a href="#details-17">68. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-17">68.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#stage_e2e-sh1">stage_e2e.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-18">69. NAME</a></li>
<li><a href="#synopsis-18">70. SYNOPSIS</a></li>
<li><a href="#functions-18">71. FUNCTIONS</a></li>
<li><a href="#details-18">72. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-18">72.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#prod_deploy-sh1">prod_deploy.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-19">73. NAME</a></li>
<li><a href="#synopsis-19">74. SYNOPSIS</a></li>
<li><a href="#functions-19">75. FUNCTIONS</a></li>
<li><a href="#details-19">76. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-19">76.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#prod_complete-sh1">prod_complete.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-20">77. NAME</a></li>
<li><a href="#synopsis-20">78. SYNOPSIS</a></li>
<li><a href="#functions-20">79. FUNCTIONS</a></li>
<li><a href="#details-20">80. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-20">80.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#prod_rollback-sh1">prod_rollback.sh(1)</a>
<ul class="sectlevel1">
<li><a href="#name-21">81. NAME</a></li>
<li><a href="#synopsis-21">82. SYNOPSIS</a></li>
<li><a href="#functions-21">83. FUNCTIONS</a></li>
<li><a href="#details-21">84. DETAILS</a>
<ul class="sectlevel2">
<li><a href="#script-body-21">84.1. Script Body</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="pipeline-sh1" class="sect0"><a class="link" href="#pipeline-sh1">pipeline.sh(1)</a></h1>
<div class="sect1">
<h2 id="name"><a class="link" href="#name">1. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis"><a class="link" href="#synopsis">2. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains interfaces for all essential functions for different
steps of deployment pipeline.</p>
</div>
<div class="paragraph">
<p>Sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>projectType/pipeline-projectType.sh</p>
</li>
<li>
<p>pipeline-${paasType}.sh (e.g. pipeline-cf.sh)</p>
</li>
<li>
<p>custom/${scriptName}.sh (e.g. custom/build_and_upload.sh)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Essentially, the scripts implementing the functions can be divided
into 2 types.</p>
</div>
<div class="paragraph">
<p>1) Build related
2) Deployment related</p>
</div>
<div class="paragraph">
<p>The build related scripts need to define how to build an application.
E.g. for Java we&#8217;re using Maven or Gradle to build a project. For other
languages other frameworks and approaches would be applicable. You can
arbitrarily chose the language type via the LANGUAGE_TYPE env variable
or via the language_type pipeline descriptor entry. That value, via convention,
gets applied to the string [projectType/pipeline-${languageType}.sh] that
represents a file that we will source in order to apply all the build functions.
The deployment related scripts need to define how to upload the application.
For Java and Cloud Foundry we&#8217;re using the CF CLI to push the binary
to PAAS. For NPM we&#8217;re pushing sources. You can
arbitrarily chose the platform type via the PAAS_TYPE env variable That value,
via convention, gets applied to the string [pipeline-${paasType}.sh]
that represents a file that we will source in order to apply all the deployment functions.</p>
</div>
<div class="paragraph">
<p>In order to improve the extensibility, we allow fetching
of a tarball with additional files / scripts that should be applied at runtime.
That means that if you have a custom implementation of a platform that you would like
to apply, instead of maintaining your fork of Cloud Pipeline Scripts, you can
create your own repository, containing the necessary files, and produce a
tarball with those files. Then you can use [ADDITIONAL_SCRIPTS_TARBALL_URL]
[ADDITIONAL_SCRIPTS_REPO_USERNAME], [ADDITIONAL_SCRIPTS_REPO_PASSWORD] environment
variables, to provide the URL of the tarball, together with username and password
for basic authentication if necessary (we default the credentials to [M2_SETTINGS_REPO_USERNAME:M2_SETTINGS_REPO_PASSWORD]
env vars). If the [ADDITIONAL_SCRIPTS_TARBALL_URL] is present, then we will fetch
the tarball and unpack it in the [src/main/bash] directory of Cloud Pipelines Scripts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions"><a class="link" href="#functions">3. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>apiCompatibilityCheck
build
completeSwitchOver
defineProjectSetup
deleteService
deployService
deployServices
envNodeExists
executeApiCompatibilityCheck
extractVersionFromProdTag
findLatestProdTag
getMainModulePath
latestProdTagFromGit
outputFolder
parsePipelineDescriptor
prepareForE2eTests
prepareForSmokeTests
prodDeploy
projectType
removeProdTag
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
rollbackToPreviousVersion
runE2eTests
runSmokeTests
serviceExists
stageDeploy
testDeploy
testResultsAntPattern
testRollbackDeploy
toLowerCase
trimRefsTag
yaml2json</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details"><a class="link" href="#details">4. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body"><a class="link" href="#script-body">4.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 78 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
|-- defineProjectSetup
|   `-- parsePipelineDescriptor
`-- parsePipelineDescriptor</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ADDITIONAL_SCRIPTS_REPO_PASSWORD <strong class="big">//</strong> ADDITIONAL_SCRIPTS_REPO_USERNAME <strong class="big">//</strong> ADDITIONAL_SCRIPTS_TARBALL_URL <strong class="big">//</strong> BINARY_ARTIFACT_TYPE_NAME <strong class="big">//</strong> CURL_BIN <strong class="big">//</strong> CUSTOM_SCRIPT_IDENTIFIER <strong class="big">//</strong> DEFAULT_PROJECT_NAME <strong class="big">//</strong> DOWNLOADABLE_SOURCES <strong class="big">//</strong> GIT_BIN <strong class="big">//</strong> LANGUAGE_TYPE <strong class="big">//</strong> LOWERCASE_ENV <strong class="big">//</strong> OUTPUT_FOLDER <strong class="big">//</strong> PAAS_TYPE <strong class="big">//</strong> PIPELINE_DESCRIPTOR <strong class="big">//</strong> PROJECT_NAME <strong class="big">//</strong> PROJECT_SETUP <strong class="big">//</strong> ROOT_PROJECT_DIR <strong class="big">//</strong> SOURCE_ARTIFACT_TYPE_NAME <strong class="big">//</strong> TAR_BIN <strong class="big">//</strong> TEST_REPORTS_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="apicompatibilitycheck"><a class="link" href="#apicompatibilitycheck">4.2. apiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Execute api compatibility check step. Uses the LATEST_PROD_TAG or PASSED_LATEST_PROD_TAG
# env vars if latest production tag has already been retrieved. If not will call the
# [findLatestProdTag] function to retrieve the latest production tag.
#
# Requires the [PROJECT_NAME] env variable to be set. Otherwise will not be able to
# parse the latest production tag. As a reminder, latest production tag should be of
# structure [dev/appName/version] or [prod/appName/version].</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 20 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>apiCompatibilityCheck
`-- executeApiCompatibilityCheck</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build_api_compatibility_check.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> LATEST_PROD_TAG <strong class="big">//</strong> PASSED_LATEST_PROD_TAG</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> OUTPUT_FOLDER <strong class="big">//</strong> PROJECT_NAME <strong class="big">//</strong> LATEST_PROD_TAG <strong class="big">//</strong> PASSED_LATEST_PROD_TAG</p>
</div>
</div>
<div class="sect2">
<h3 id="build"><a class="link" href="#build">4.3. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Build the application and produce a binary. Most likely you'll upload that binary somewhere</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build_and_upload.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="completeswitchover"><a class="link" href="#completeswitchover">4.4. completeSwitchOver</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deletes the old, Blue binary from the production environment</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_complete.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="defineprojectsetup"><a class="link" href="#defineprojectsetup">4.5. defineProjectSetup</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Defines the project setup. Takes into consideration the location of the pipeline
# descriptor, project name, main module path etc.
# Sets the [PROJECT_SETUP], [ROOT_PROJECT_DIR] env vars.
# Uses [PROJECT_NAME] env var and [getMainModulePath] functions</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 32 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>defineProjectSetup
`-- parsePipelineDescriptor</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PROJECT_NAME <strong class="big">//</strong> PROJECT_SETUP <strong class="big">//</strong> PIPELINE_DESCRIPTOR_PRESENT</p>
</div>
</div>
<div class="sect2">
<h3 id="deleteservice"><a class="link" href="#deleteservice">4.6. deleteService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Contract for deleting a service with name $1 and type $2
#
# $1 - service name
# $2 - service type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployServices</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deployservice"><a class="link" href="#deployservice">4.7. deployService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Contract for deploying a single service with name $1 and type $2
#
# $1 - service name
# $2 - service type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployServices</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deployservices"><a class="link" href="#deployservices">4.8. deployServices</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys services assuming that pipeline descriptor exists
# For TEST environment first deletes, then deploys services
# For other environments only deploys a service if it wasn't there.
# Uses ruby and jq</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 28 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployServices
|-- deleteService
|-- deployService
|-- envNodeExists
`-- parsePipelineDescriptor</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>read</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pipeline-cf.sh/stageDeploy
pipeline-cf.sh/testDeploy
pipeline-k8s.sh/testDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> LOWERCASE_ENV <strong class="big">//</strong> PARSED_YAML <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="envnodeexists"><a class="link" href="#envnodeexists">4.9. envNodeExists</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns 0 if environment $1 node exists in the pipeline descriptor, 1 if it doesn't.
# Requires the [PARSED_YAML] env var to contain the parsed descriptor
#
# $1 - name of the environment (e.g. test)</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployServices
pipeline-cf.sh/propagatePropertiesForTests</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck"><a class="link" href="#executeapicompatibilitycheck">4.10. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Execute api compatibility check step for the given latest production version $1
#
# $1 - retrieved latest production version</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>apiCompatibilityCheck</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extractversionfromprodtag"><a class="link" href="#extractversionfromprodtag">4.11. extractVersionFromProdTag</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Extracts the version from the production tag</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="findlatestprodtag"><a class="link" href="#findlatestprodtag">4.12. findLatestProdTag</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Echoes the latest prod tag from git with trimmed refs part. Uses the
# LATEST_PROD_TAG and PASSED_LATEST_PROD_TAG env vars if latest production tag
# was already found. If not, retrieves the latest prod tag via [latestProdTagFromGit]
# function and sets the [PASSED_LATEST_PROD_TAG] and [LATEST_PROD_TAG] env vars with
# the trimmed prod tag. Trimming occurs via the [trimRefsTag] function</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 11 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> LATEST_PROD_TAG <strong class="big">//</strong> PASSED_LATEST_PROD_TAG</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> LATEST_PROD_TAG <strong class="big">//</strong> PASSED_LATEST_PROD_TAG</p>
</div>
</div>
<div class="sect2">
<h3 id="getmainmodulepath"><a class="link" href="#getmainmodulepath">4.13. getMainModulePath</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets the build coordinates from descriptor. Requires the [PARSED_YAML] to parse
# otherwise returns empty main module</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 10 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="latestprodtagfromgit"><a class="link" href="#latestprodtagfromgit">4.14. latestProdTagFromGit</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Echos latest productino tag from git</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GIT_BIN <strong class="big">//</strong> PROJECT_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder"><a class="link" href="#outputfolder">4.15. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns the folder where the built binary will be stored.
# Example: 'target/' - for Maven, 'build/' - for Gradle etc.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="parsepipelinedescriptor"><a class="link" href="#parsepipelinedescriptor">4.16. parsePipelineDescriptor</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Sets the [PARSED_YAML] environment variable with contents of the parsed pipeline
# descriptor assuming that the file described by the [PIPELINE_DESCRIPTOR] env variable
# is present. If it's not present, will fallback to finding the descriptor
# under [LEGACY_PIPELINE_DESCRIPTOR] env var name.
# If either of the files exists, the [PIPELINE_DESCRIPTOR_PRESENT] env var is set to [true]
# shellcheck disable=SC2120</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 20 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
defineProjectSetup
deployServices
pipeline-cf.sh/prepareForSmokeTests
pipeline-cf.sh/testRollbackDeploy
pipeline-k8s.sh/testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> PARSED_YAML <strong class="big">//</strong> PIPELINE_DESCRIPTOR_PRESENT</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PIPELINE_DESCRIPTOR <strong class="big">//</strong> PARSED_YAML <strong class="big">//</strong> PIPELINE_DESCRIPTOR_PRESENT</p>
</div>
</div>
<div class="sect2">
<h3 id="preparefore2etests"><a class="link" href="#preparefore2etests">4.17. prepareForE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Prepares environment for smoke tests. Logs in to PAAS etc.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_e2e.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prepareforsmoketests"><a class="link" href="#prepareforsmoketests">4.18. prepareForSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Prepares environment for smoke tests. Retrieves the latest production
# tags, exports all URLs required for smoke tests, etc.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_smoke.sh/Script-Body
test_smoke.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proddeploy"><a class="link" href="#proddeploy">4.19. prodDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Will deploy the Green binary next to the Blue one, on the production environment</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="projecttype"><a class="link" href="#projecttype">4.20. projectType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns the type of the project basing on the cloned sources.
# Example: MAVEN, GRADLE etc</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="removeprodtag"><a class="link" href="#removeprodtag">4.21. removeProdTag</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Removes production tag.
# Uses [PROJECT_NAME] and [PIPELINE_VERSION]</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 4 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_rollback.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GIT_BIN <strong class="big">//</strong> PROJECT_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname"><a class="link" href="#retrieveappname">4.22. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Echos the name of the application
# JVM world corresponds to a group id of a project</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid"><a class="link" href="#retrievegroupid">4.23. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Echos the namespace that corresponds to the given application. In the
# JVM world corresponds to a group id of a project</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids"><a class="link" href="#retrievestubrunnerids">4.24. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Retrieves the ids for Spring Cloud Contract Stub Runner. If you don't use
# Stub Runner, overriding this method is not mandatory. The format of the IDS is
# [groupId:artifactId:version:classifier:port]. E.g. [com.example:foo:1.0.0.RELEASE:stubs:1234]</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="rollbacktopreviousversion"><a class="link" href="#rollbacktopreviousversion">4.25. rollbackToPreviousVersion</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Will rollback to blue instance</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_rollback.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests"><a class="link" href="#rune2etests">4.26. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Executes end to end tests. Profits from env vars set by 'prepareForE2eTests'</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_e2e.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests"><a class="link" href="#runsmoketests">4.27. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Executes smoke tests. Profits from env vars set by 'prepareForSmokeTests'</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_smoke.sh/Script-Body
test_smoke.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="serviceexists"><a class="link" href="#serviceexists">4.28. serviceExists</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Contract for verification if a service exists
#
# $1 - service type
# $2 - service name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="stagedeploy"><a class="link" href="#stagedeploy">4.29. stageDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploy binaries and required services to stage environment</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testdeploy"><a class="link" href="#testdeploy">4.30. testDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploy binaries and required services to test environment</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern"><a class="link" href="#testresultsantpattern">4.31. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns the ant pattern for the test results.
# Example: '**/test-results/*.xml' - for Maven, '**/surefire-reports/*' - for Gradle etc.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="testrollbackdeploy"><a class="link" href="#testrollbackdeploy">4.32. testRollbackDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploy binaries and required services to test environment for rollback testing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tolowercase"><a class="link" href="#tolowercase">4.33. toLowerCase</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Converts a string $1 to lower case
#
# $1 - string to convert</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pipeline-cf.sh/getArtifactType</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trimrefstag"><a class="link" href="#trimrefstag">4.34. trimRefsTag</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Extracts latest prod tag</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="yaml2json"><a class="link" href="#yaml2json">4.35. yaml2json</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Converts YAML to JSON - uses ruby</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-projecttype-sh1" class="sect0"><a class="link" href="#pipeline-projecttype-sh1">pipeline-projectType.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-2"><a class="link" href="#name-2">5. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-projectType.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-2"><a class="link" href="#synopsis-2">6. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Script that knows how to define the type of the project.
Scans for presence of files or the language type configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-2"><a class="link" href="#functions-2">7. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>getLanguageType
guessLanguageType</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-2"><a class="link" href="#details-2">8. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-2"><a class="link" href="#script-body-2">8.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 24 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>source</em></p>
</div>
</div>
<div class="sect2">
<h3 id="getlanguagetype"><a class="link" href="#getlanguagetype">8.2. getLanguageType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets the language type from the parsed descriptor. Returns empty if it's not present
# or if [language_type] node is not present in the descriptor.
# Uses [PARSER_YAML] env var</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 10 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="guesslanguagetype"><a class="link" href="#guesslanguagetype">8.3. guessLanguageType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Tries to guess the language type basing on the contents of the repository</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 11 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-jvm-sh1" class="sect0"><a class="link" href="#pipeline-jvm-sh1">pipeline-jvm.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-3"><a class="link" href="#name-3">9. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-jvm.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-3"><a class="link" href="#synopsis-3">10. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Script that knows how to define the concrete type of the JVM project.
Scans for presence of files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-3"><a class="link" href="#functions-3">11. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>downloadAppBinary
isGradleProject
isMavenProject
projectType</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-3"><a class="link" href="#details-3">12. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-3"><a class="link" href="#script-body-3">12.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 21 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> BINARY_EXTENSION <strong class="big">//</strong> MAVEN_OPTS <strong class="big">//</strong> PROJECT_TYPE <strong class="big">//</strong> projectType</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadappbinary"><a class="link" href="#downloadappbinary">12.2. downloadAppBinary</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Fetches a JAR from a binary storage
#
# $1 - URL to repo with binaries
# $2 - group id of the packaged sources
# $3 - artifact id of the packaged sources
# $4 - version of the packaged sources</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 21 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> BINARY_EXTENSION</p>
</div>
</div>
<div class="sect2">
<h3 id="isgradleproject"><a class="link" href="#isgradleproject">12.3. isGradleProject</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns true if Gradle Wrapper is used</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>projectType</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ismavenproject"><a class="link" href="#ismavenproject">12.4. isMavenProject</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns true if Maven Wrapper is used</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>projectType</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="projecttype-2"><a class="link" href="#projecttype-2">12.5. projectType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># JVM implementation of projectType</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 7 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>projectType
|-- isGradleProject
`-- isMavenProject</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-maven-sh1" class="sect0"><a class="link" href="#pipeline-maven-sh1">pipeline-maven.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-4"><a class="link" href="#name-4">13. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-maven.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-4"><a class="link" href="#synopsis-4">14. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all Maven related build functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-4"><a class="link" href="#functions-4">15. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
extractMavenProperty
outputFolder
printTestResults
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests
testResultsAntPattern</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-4"><a class="link" href="#details-4">16. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-4"><a class="link" href="#script-body-4">16.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 24 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> BUILD_OPTIONS <strong class="big">//</strong> MAVENW_BIN <strong class="big">//</strong> build <strong class="big">//</strong> executeApiCompatibilityCheck <strong class="big">//</strong> outputFolder <strong class="big">//</strong> retrieveAppName <strong class="big">//</strong> retrieveGroupId <strong class="big">//</strong> runE2eTests <strong class="big">//</strong> runSmokeTests <strong class="big">//</strong> testResultsAntPattern</p>
</div>
</div>
<div class="sect2">
<h3 id="build-2"><a class="link" href="#build-2">16.2. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Maven implementation of build. Sets version, passes build options and distribution management properties.
# Uses [PIPELINE_VERSION], [PASSED_PIPELINE_VERSION] and [M2_SETTINGS...], [REPO_WITH_BINARIES...] related env vars</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> BUILD_OPTIONS <strong class="big">//</strong> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck-2"><a class="link" href="#executeapicompatibilitycheck-2">16.3. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Maven implementation of executing API compatibility check</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>executeApiCompatibilityCheck
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> BUILD_OPTIONS <strong class="big">//</strong> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="extractmavenproperty"><a class="link" href="#extractmavenproperty">16.4. extractMavenProperty</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># The function uses Maven Wrapper to extract property with name $1
#
# $1 - name of the property to extract</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 12 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveStubRunnerIds</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder-2"><a class="link" href="#outputfolder-2">16.5. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Maven implementation of output folder</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="printtestresults"><a class="link" href="#printtestresults">16.6. printTestResults</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Prints test results. Used by Concourse.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
runE2eTests
runSmokeTests</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname-2"><a class="link" href="#retrieveappname-2">16.7. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># For the given main module (if [getMainModulePath] function exists, it will return the path
# to the main module), will use [ruby] if possible to return the application name. If that
# doesn't bring a result, will use Maven to extract the artifact id.
#
# $1 - path to main module</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 14 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid-2"><a class="link" href="#retrievegroupid-2">16.8. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Maven implementation of group id retrieval. First tries to use [ruby] to extract the
# group id, if that's not possible uses Maven to do it. Requires path $1 to pom.xml
#
# $1 - path to pom.xml</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids-2"><a class="link" href="#retrievestubrunnerids-2">16.9. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Extracts the stub runner ids from the Maven properties</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveStubRunnerIds
`-- extractMavenProperty</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests-2"><a class="link" href="#rune2etests-2">16.10. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Given [APPLICATION_URL] will run the tests with [e2e] profile</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runE2eTests
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> BUILD_OPTIONS <strong class="big">//</strong> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests-2"><a class="link" href="#runsmoketests-2">16.11. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Given [APPLICATION_URL] and [STUBRUNNER_URL] will run the tests with [smoke] profile</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runSmokeTests
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> BUILD_OPTIONS <strong class="big">//</strong> MAVENW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern-2"><a class="link" href="#testresultsantpattern-2">16.12. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Maven implementation of test results ant pattern</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-gradle-sh1" class="sect0"><a class="link" href="#pipeline-gradle-sh1">pipeline-gradle.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-5"><a class="link" href="#name-5">17. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-gradle.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-5"><a class="link" href="#synopsis-5">18. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all Gradle related build functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-5"><a class="link" href="#functions-5">19. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
outputFolder
printTestResults
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests
testResultsAntPattern</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-5"><a class="link" href="#details-5">20. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-5"><a class="link" href="#script-body-5">20.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 24 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> BUILD_OPTIONS <strong class="big">//</strong> GRADLEW_BIN <strong class="big">//</strong> build <strong class="big">//</strong> executeApiCompatibilityCheck <strong class="big">//</strong> outputFolder <strong class="big">//</strong> retrieveAppName <strong class="big">//</strong> retrieveGroupId <strong class="big">//</strong> runE2eTests <strong class="big">//</strong> runSmokeTests <strong class="big">//</strong> testResultsAntPattern</p>
</div>
</div>
<div class="sect2">
<h3 id="build-3"><a class="link" href="#build-3">20.2. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of build. Sets version, passes build options and distribution management properties.
# Uses [PIPELINE_VERSION], [PASSED_PIPELINE_VERSION] and [M2_SETTINGS...], [REPO_WITH_BINARIES...] related env vars</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 7 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN <strong class="big">//</strong> pipeline-maven.sh &#8594; BUILD_OPTIONS</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck-3"><a class="link" href="#executeapicompatibilitycheck-3">20.3. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of executing API compatibility check</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>executeApiCompatibilityCheck
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN <strong class="big">//</strong> pipeline-maven.sh &#8594; BUILD_OPTIONS</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder-3"><a class="link" href="#outputfolder-3">20.4. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of output folder</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="printtestresults-2"><a class="link" href="#printtestresults-2">20.5. printTestResults</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Prints test results. Used by Concourse.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
runE2eTests
runSmokeTests</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname-3"><a class="link" href="#retrieveappname-3">20.6. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of app name retrieval</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid-3"><a class="link" href="#retrievegroupid-3">20.7. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of group id retrieval</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids-3"><a class="link" href="#retrievestubrunnerids-3">20.8. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Extracts the stub runner ids from the Gradle properties</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests-3"><a class="link" href="#rune2etests-3">20.9. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Given [APPLICATION_URL] will run the tests via [e2e] task</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runE2eTests
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN <strong class="big">//</strong> pipeline-maven.sh &#8594; BUILD_OPTIONS</p>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests-3"><a class="link" href="#runsmoketests-3">20.10. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Given [APPLICATION_URL] and [STUBRUNNER_URL] will run the tests via [smoke] task</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 10 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runSmokeTests
`-- printTestResults</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> GRADLEW_BIN <strong class="big">//</strong> pipeline-maven.sh &#8594; BUILD_OPTIONS</p>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern-3"><a class="link" href="#testresultsantpattern-3">20.11. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gradle implementation of test results ant pattern</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-php-sh1" class="sect0"><a class="link" href="#pipeline-php-sh1">pipeline-php.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-6"><a class="link" href="#name-6">21. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-php.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-6"><a class="link" href="#synopsis-6">22. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all PHP related build functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-6"><a class="link" href="#functions-6">23. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>build
downloadAppBinary
downloadComposerIfMissing
executeApiCompatibilityCheck
installPhpIfMissing
outputFolder
projectType
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests
testResultsAntPattern</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-6"><a class="link" href="#details-6">24. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-6"><a class="link" href="#script-body-6">24.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 20 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ARTIFACT_TYPE <strong class="big">//</strong> COMPOSER_BIN <strong class="big">//</strong> DOWNLOADABLE_SOURCES <strong class="big">//</strong> PHP_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="build-4"><a class="link" href="#build-4">24.2. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the build function.
# Requires [composer] and [php]. Installs those if possible</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 30 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>trap</em></p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-jvm.sh &#8594; BINARY_EXTENSION <strong class="big">//</strong> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadappbinary-2"><a class="link" href="#downloadappbinary-2">24.3. downloadAppBinary</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Fetches PHP tar.gz sources from a binary storage
#
# $1 - URL to repo with binaries
# $2 - group id of the packaged sources
# $3 - artifact id of the packaged sources
# $4 - version of the packaged sources</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 26 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-jvm.sh &#8594; BINARY_EXTENSION</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadcomposerifmissing"><a class="link" href="#downloadcomposerifmissing">24.4. downloadComposerIfMissing</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Downloads and installs PHP and Composer if missing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>downloadComposerIfMissing
`-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN <strong class="big">//</strong> PHP_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck-4"><a class="link" href="#executeapicompatibilitycheck-4">24.5. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the execute API compatibility check</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>executeApiCompatibilityCheck
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="installphpifmissing"><a class="link" href="#installphpifmissing">24.6. installPhpIfMissing</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Downloads and installs PHP if missing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>downloadComposerIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> LANG</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PHP_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder-4"><a class="link" href="#outputfolder-4">24.7. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the output folder</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="projecttype-3"><a class="link" href="#projecttype-3">24.8. projectType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the project type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname-4"><a class="link" href="#retrieveappname-4">24.9. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the retrieve application name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveAppName
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-dotnet.sh &#8594; PROJECT_NAME <strong class="big">//</strong> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid-4"><a class="link" href="#retrievegroupid-4">24.10. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the retrieve group id</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveGroupId
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids-4"><a class="link" href="#retrievestubrunnerids-4">24.11. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the retrieve stub runner ids</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveStubRunnerIds
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests-4"><a class="link" href="#rune2etests-4">24.12. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the run e2e tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runE2eTests
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests-4"><a class="link" href="#runsmoketests-4">24.13. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the run smoke tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runSmokeTests
`-- downloadComposerIfMissing
    `-- installPhpIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> COMPOSER_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern-4"><a class="link" href="#testresultsantpattern-4">24.14. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># PHP implementation of the test results ant pattern</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-npm-sh1" class="sect0"><a class="link" href="#pipeline-npm-sh1">pipeline-npm.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-7"><a class="link" href="#name-7">25. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-npm.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-7"><a class="link" href="#synopsis-7">26. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all NPM related build functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-7"><a class="link" href="#functions-7">27. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>build
downloadAppBinary
downloadNpmIfMissing
executeApiCompatibilityCheck
installNodeIfMissing
outputFolder
projectType
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests
testResultsAntPattern</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-7"><a class="link" href="#details-7">28. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-7"><a class="link" href="#script-body-7">28.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 15 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ARTIFACT_TYPE <strong class="big">//</strong> NODE_BIN <strong class="big">//</strong> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="build-5"><a class="link" href="#build-5">28.2. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the build function.
# Requires [npm] and [node]. Installs those if possible</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadappbinary-3"><a class="link" href="#downloadappbinary-3">28.3. downloadAppBinary</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Just downloads the npm libraries. We will use sources</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadnpmifmissing"><a class="link" href="#downloadnpmifmissing">28.4. downloadNpmIfMissing</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Downloads and installs node and npm if missing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>downloadNpmIfMissing
`-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>build
executeApiCompatibilityCheck
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck-5"><a class="link" href="#executeapicompatibilitycheck-5">28.5. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the execute API compatibility check</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>executeApiCompatibilityCheck
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="installnodeifmissing"><a class="link" href="#installnodeifmissing">28.6. installNodeIfMissing</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Installs node if missing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 7 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>downloadNpmIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> LANG</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NODE_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder-5"><a class="link" href="#outputfolder-5">28.7. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the output folder</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="projecttype-4"><a class="link" href="#projecttype-4">28.8. projectType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the project type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname-5"><a class="link" href="#retrieveappname-5">28.9. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the retrieve app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveAppName
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-dotnet.sh &#8594; PROJECT_NAME <strong class="big">//</strong> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid-5"><a class="link" href="#retrievegroupid-5">28.10. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the retrieve group id</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveGroupId
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids-5"><a class="link" href="#retrievestubrunnerids-5">28.11. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the retrieve stub runner ids</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveStubRunnerIds
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests-5"><a class="link" href="#rune2etests-5">28.12. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the e2e tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runE2eTests
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests-5"><a class="link" href="#runsmoketests-5">28.13. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the run smoke tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>runSmokeTests
`-- downloadNpmIfMissing
    `-- installNodeIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> NPM_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern-5"><a class="link" href="#testresultsantpattern-5">28.14. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># npm implementation of the test results ant pattern</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-dotnet-sh1" class="sect0"><a class="link" href="#pipeline-dotnet-sh1">pipeline-dotnet.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-8"><a class="link" href="#name-8">29. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-dotnet.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-8"><a class="link" href="#synopsis-8">30. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all PHP related build functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-8"><a class="link" href="#functions-8">31. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>build
downloadAppBinary
executeApiCompatibilityCheck
outputFolder
projectType
retrieveAppName
retrieveGroupId
retrieveStubRunnerIds
runE2eTests
runSmokeTests
testResultsAntPattern</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-8"><a class="link" href="#details-8">32. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-8"><a class="link" href="#script-body-8">32.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 20 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ARTIFACT_TYPE <strong class="big">//</strong> DOTNET_BIN <strong class="big">//</strong> DOWNLOADABLE_SOURCES</p>
</div>
</div>
<div class="sect2">
<h3 id="build-6"><a class="link" href="#build-6">32.2. build</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the build function.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 12 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> PROJECT_GROUP <strong class="big">//</strong> PROJECT_NAME <strong class="big">//</strong> PROJECT_VERSION</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="downloadappbinary-4"><a class="link" href="#downloadappbinary-4">32.3. downloadAppBinary</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Fetches DotNet publication from a binary storage
#
# $1 - URL to repo with binaries
# $2 - group id of the packaged sources
# $3 - artifact id of the packaged sources
# $4 - version of the packaged sources</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 26 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-jvm.sh &#8594; BINARY_EXTENSION</p>
</div>
</div>
<div class="sect2">
<h3 id="executeapicompatibilitycheck-6"><a class="link" href="#executeapicompatibilitycheck-6">32.4. executeApiCompatibilityCheck</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the execute API compatibility check</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 11 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> EXTERNAL_CONTRACTS_ARTIFACT_ID <strong class="big">//</strong> EXTERNAL_CONTRACTS_CLASSIFIER <strong class="big">//</strong> EXTERNAL_CONTRACTS_GROUP_ID <strong class="big">//</strong> EXTERNAL_CONTRACTS_PATH <strong class="big">//</strong> EXTERNAL_CONTRACTS_VERSION <strong class="big">//</strong> LATEST_PROD_VERSION</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="outputfolder-6"><a class="link" href="#outputfolder-6">32.5. outputFolder</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the output folder</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="projecttype-5"><a class="link" href="#projecttype-5">32.6. projectType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the project type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieveappname-6"><a class="link" href="#retrieveappname-6">32.7. retrieveAppName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the retrieve application name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN <strong class="big">//</strong> PROJECT_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievegroupid-6"><a class="link" href="#retrievegroupid-6">32.8. retrieveGroupId</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the retrieve group id</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrievestubrunnerids-6"><a class="link" href="#retrievestubrunnerids-6">32.9. retrieveStubRunnerIds</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the retrieve stub runner ids</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="rune2etests-6"><a class="link" href="#rune2etests-6">32.10. runE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the run e2e tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="runsmoketests-6"><a class="link" href="#runsmoketests-6">32.11. runSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the run smoke tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> DOTNET_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="testresultsantpattern-6"><a class="link" href="#testresultsantpattern-6">32.12. testResultsAntPattern</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Dotnet implementation of the test results ant pattern</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-cf-sh1" class="sect0"><a class="link" href="#pipeline-cf-sh1">pipeline-cf.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-9"><a class="link" href="#name-9">33. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-cf.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-9"><a class="link" href="#synopsis-9">34. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all Cloud Foundry related deployment functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-9"><a class="link" href="#functions-9">35. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>addMultiplePortsSupport
bindService
completeSwitchOver
createServiceWithName
deleteApp
deleteService
deployAndRestartAppWithName
deployAppAsService
deployAppNoStart
deployBrokeredService
deployCupsService
deployService
deployStubRunnerBoot
getAppHostFromPaas
getArtifactType
getDomain
getHostFromManifest
getInstancesFromManifest
getProfilesFromManifest
hostname
logInToPaas
parseManifest
pathToPushToCf
pathToUnpackedSources
performProductionDeploymentOfTestedApplication
prepareForE2eTests
prepareForSmokeTests
prodDeploy
propagatePropertiesForTests
readTestPropertiesFromFile
restartApp
retrieveApplicationUrl
rollbackToPreviousVersion
setEnvVar
setEnvVarIfMissing
stageDeploy
testCleanup
testDeploy
testRollbackDeploy
waitForServicesToInitialize</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-9"><a class="link" href="#details-9">36. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-9"><a class="link" href="#script-body-9">36.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 11 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> CF_BIN <strong class="big">//</strong> CF_CLI_URL <strong class="big">//</strong> RETRIEVE_STUBRUNNER_IDS_FUNCTION</p>
</div>
</div>
<div class="sect2">
<h3 id="addmultipleportssupport"><a class="link" href="#addmultipleportssupport">36.2. addMultiplePortsSupport</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Adds multiple ports support for Stub Runner Boot
# Uses [PAAS_TEST_SPACE_PREFIX], [ENVIRONMENT] env vars
#
# $1 - Stub Runner name
# $2 - IDs of stubs to be downloaded
# $3 - path to Stub Runner manifest</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 49 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>addMultiplePortsSupport
`-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployStubRunnerBoot</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="bindservice"><a class="link" href="#bindservice">36.3. bindService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Binds service $1 to application $2
#
# $1 - service name
# $2 - application name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="completeswitchover-2"><a class="link" href="#completeswitchover-2">36.4. completeSwitchOver</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Performs switch over of the venerable app (VEN) and leaves only current one (APP) running
# APP - current app to deploy, VEN - old (venerable), currently running app on production
# [Clicked COMPLETE] -&gt; APP running, VEN stopped</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 12 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>completeSwitchOver
`-- logInToPaas</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_complete.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="createservicewithname"><a class="link" href="#createservicewithname">36.5. createServiceWithName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Creates a CUPS (user provided service) for service with name $1
#
# $1 - service name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>createServiceWithName
`-- deployCupsService</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAppAsService</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deleteapp"><a class="link" href="#deleteapp">36.6. deleteApp</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deletes app with name $1 from CF
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="deleteservice-2"><a class="link" href="#deleteservice-2">36.7. deleteService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the CF delete service
#
# $1 - service name
# $2 - service type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="deployandrestartappwithname"><a class="link" href="#deployandrestartappwithname">36.8. deployAndRestartAppWithName</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys and restarts app with name $1 and binary name $2
#
# $1 - app name
# $2 - binary name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 22 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAndRestartAppWithName
|-- deployAppNoStart
|   `-- setEnvVar
|-- parseManifest
|-- restartApp
`-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>performProductionDeploymentOfTestedApplication
stageDeploy
testDeploy
testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="deployappasservice"><a class="link" href="#deployappasservice">36.9. deployAppAsService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># For app with binary name $1, app name $2 and manifest location $3, deploys the app to CF
# and creates a user provided services for it
#
# $1 - binary name
# $2 - app name
# $3 - manifest location</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 11 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAppAsService
|-- createServiceWithName
|   `-- deployCupsService
|-- deployAppNoStart
|   `-- setEnvVar
`-- restartApp</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployService</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="deployappnostart"><a class="link" href="#deployappnostart">36.10. deployAppNoStart</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys an app without starting it
#
# $1 - app name
# $2 - artifact name
# $3 - environment name
# $4 - path to manifest
# $5 - host name suffix</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 37 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAppNoStart
`-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAndRestartAppWithName
deployAppAsService
deployStubRunnerBoot</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN <strong class="big">//</strong> pipeline.sh &#8594; DOWNLOADABLE_SOURCES <strong class="big">//</strong> pipeline.sh &#8594; SOURCE_ARTIFACT_TYPE_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="deploybrokeredservice"><a class="link" href="#deploybrokeredservice">36.11. deployBrokeredService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys a brokered service with name $1, broker service type $2, plan $3 and parameters $4
#
# $1 - service name
# $2 - broker service type
# $3 - broker service plan
# $4 - broker service parameters</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 17 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployService</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN <strong class="big">//</strong> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="deploycupsservice"><a class="link" href="#deploycupsservice">36.12. deployCupsService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys a CUPS (user provided service) with name $1, option $2 and value $3
# Uses [OUTPUT_FOLDER] and [LOWERCASE_ENV] env variables
#
# $1 - service name
# $2 - cups option
# $3 - cups value</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 13 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>createServiceWithName
deployService</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN <strong class="big">//</strong> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="deployservice-2"><a class="link" href="#deployservice-2">36.13. deployService</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the CF deployment of a service
#
# $1 - service name
# $2 - service type</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 57 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployService
|-- deployAppAsService
|   |-- createServiceWithName
|   |   `-- deployCupsService
|   |-- deployAppNoStart
|   |   `-- setEnvVar
|   `-- restartApp
|-- deployBrokeredService
|-- deployCupsService
`-- deployStubRunnerBoot
    |-- addMultiplePortsSupport
    |   `-- setEnvVar
    |-- deployAppNoStart
    |   `-- setEnvVar
    |-- restartApp
    `-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> pipeline.sh &#8594; PARSED_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="deploystubrunnerboot"><a class="link" href="#deploystubrunnerboot">36.14. deployStubRunnerBoot</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Deploys a Stub Runner Boot instance to CF
# Uses [REPO_WITH_BINARIES], [ENVIRONMENT] env vars
#
# $1 - Stub Runner Boot jar name
# $2 - Stub Runner name
# $3 - path to Stub Runner manifest</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 16 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployStubRunnerBoot
|-- addMultiplePortsSupport
|   `-- setEnvVar
|-- deployAppNoStart
|   `-- setEnvVar
|-- restartApp
`-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployService</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> RETRIEVE_STUBRUNNER_IDS_FUNCTION <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="getapphostfrompaas"><a class="link" href="#getapphostfrompaas">36.15. getAppHostFromPaas</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets app host for app with name $1 from CF
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 4 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="getartifacttype"><a class="link" href="#getartifacttype">36.16. getArtifactType</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets the type of artifact that should be pushed to CF. [binary] or [source]?
# Uses [ARTIFACT_TYPE], [PARSED_YAML], [LANGUAGE_TYPE] env vars</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 16 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>getArtifactType
`-- pipeline.sh/toLowerCase</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; BINARY_ARTIFACT_TYPE_NAME <strong class="big">//</strong> pipeline.sh &#8594; LANGUAGE_TYPE <strong class="big">//</strong> pipeline.sh &#8594; SOURCE_ARTIFACT_TYPE_NAME <strong class="big">//</strong> pipeline.sh &#8594; PARSED_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="getdomain"><a class="link" href="#getdomain">36.17. getDomain</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets domain from host $1
#
# $1 - host name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="gethostfrommanifest"><a class="link" href="#gethostfrommanifest">36.18. getHostFromManifest</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets host from [PARSED_APP_MANIFEST_YAML] for app with name $1
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_APP_MANIFEST_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="getinstancesfrommanifest"><a class="link" href="#getinstancesfrommanifest">36.19. getInstancesFromManifest</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets instances from [PARSED_APP_MANIFEST_YAML] for app with name $1
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_APP_MANIFEST_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="getprofilesfrommanifest"><a class="link" href="#getprofilesfrommanifest">36.20. getProfilesFromManifest</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Gets profiles from [PARSED_APP_MANIFEST_YAML] for app with name $1
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_APP_MANIFEST_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="hostname"><a class="link" href="#hostname">36.21. hostname</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns hostname for app with name $1, env $2 and manifest location $3
# Uses [PAAS_HOSTNAME_UUID] and [LOWERCASE_ENV] env vars
#
# $1 - app name
# $2 - environment name
# $3 - manifest location</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 20 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LOWERCASE_ENV</p>
</div>
</div>
<div class="sect2">
<h3 id="logintopaas"><a class="link" href="#logintopaas">36.22. logInToPaas</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the CF log in. Will work in the following way:
#
# * Will use CF if one is present (good for envs that are fully offline)
# * You can disable the redownload CF with [CF_REDOWNLOAD_CLI] env set to [false]
# * You can provide the URL from which to fetch the CLI via [CF_CLI_URL]
#
# Also [CF_TEST_MODE] is used for tests and all the combinations of
# [PAAS_..._USERNAME/PASSWORD/ORG/SPACE/API_URL] to log in to PAAS</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 38 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>completeSwitchOver
prepareForE2eTests
prepareForSmokeTests
prodDeploy
retrieveApplicationUrl
rollbackToPreviousVersion
stageDeploy
testDeploy
testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN <strong class="big">//</strong> CF_CLI_URL <strong class="big">//</strong> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="parsemanifest"><a class="link" href="#parsemanifest">36.23. parseManifest</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Parses the [manifest.yml] file into [PARSED_APP_MANIFEST_YAML] env var</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAndRestartAppWithName</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> PARSED_APP_MANIFEST_YAML</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> PARSED_APP_MANIFEST_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="pathtopushtocf"><a class="link" href="#pathtopushtocf">36.24. pathToPushToCf</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns the path to push to CF for artifact with name $1
#
# $1 - artifact name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 11 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; BINARY_ARTIFACT_TYPE_NAME <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; SOURCE_ARTIFACT_TYPE_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="pathtounpackedsources"><a class="link" href="#pathtounpackedsources">36.25. pathToUnpackedSources</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Returns the path to unpacked sources. Uses [OUTPUT_FOLDER] env var</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="performproductiondeploymentoftestedapplication"><a class="link" href="#performproductiondeploymentoftestedapplication">36.26. performProductionDeploymentOfTestedApplication</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Performs production deployment of application (APP)
# APP - current app to deploy, VEN - old (venerable), currently running app on production
# [Clicked DEPLOY] -&gt; APP running, VEN running -&gt; [Click DEPLOY] delete VEN, deploy new APP
# [Clicked COMPLETE] -&gt; APP running, VEN stopped -&gt; [Click DEPLOY] delete VEN, rename APP -&gt; VEN, deploy APP
# [Clicked ROLLBACK] -&gt; APP stopped, VEN running, VEN renamed to APP, latest PROD tag removed -&gt; [Click DEPLOY] -&gt; delete APP, deploy new APP, stop VEN</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 27 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>performProductionDeploymentOfTestedApplication
`-- deployAndRestartAppWithName
    |-- deployAppNoStart
    |   `-- setEnvVar
    |-- parseManifest
    |-- restartApp
    `-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prodDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="preparefore2etests-2"><a class="link" href="#preparefore2etests-2">36.27. prepareForE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># CF implementation of prepare for e2e tests
# You can skip that via [CF_SKIP_PREPARE_FOR_TESTS] set to [true]</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prepareForE2eTests
`-- logInToPaas</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_e2e.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> APPLICATION_URL</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> APPLICATION_URL</p>
</div>
</div>
<div class="sect2">
<h3 id="prepareforsmoketests-2"><a class="link" href="#prepareforsmoketests-2">36.28. prepareForSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># CF implementation of prepare for smoke tests, can log in to PAAS to retrieve info about
# the app. You can skip that via [CF_SKIP_PREPARE_FOR_TESTS] set to [true]</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 15 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prepareForSmokeTests
|-- logInToPaas
|-- pipeline.sh/parsePipelineDescriptor
|-- propagatePropertiesForTests
|   `-- pipeline.sh/envNodeExists
`-- readTestPropertiesFromFile</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_smoke.sh/Script-Body
test_smoke.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> APPLICATION_URL <strong class="big">//</strong> STUBRUNNER_URL <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; LATEST_PROD_TAG</p>
</div>
</div>
<div class="sect2">
<h3 id="proddeploy-2"><a class="link" href="#proddeploy-2">36.29. prodDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># CF implementation of deploy to production</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 7 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prodDeploy
|-- logInToPaas
`-- performProductionDeploymentOfTestedApplication
    `-- deployAndRestartAppWithName
        |-- deployAppNoStart
        |   `-- setEnvVar
        |-- parseManifest
        |-- restartApp
        `-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="propagatepropertiesfortests"><a class="link" href="#propagatepropertiesfortests">36.30. propagatePropertiesForTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># For project with name $1 resolves application URL and stub runner URL if applicable
#
# exports [APPLICATION_URL] and [STUBRUNNER_URL] env vars and stores those values in a
# properties file
#
# $1 - application name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 21 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>propagatePropertiesForTests
`-- pipeline.sh/envNodeExists</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prepareForSmokeTests
retrieveApplicationUrl
stageDeploy
testDeploy
testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> APPLICATION_URL <strong class="big">//</strong> STUBRUNNER_URL</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; PARSED_YAML</p>
</div>
</div>
<div class="sect2">
<h3 id="readtestpropertiesfromfile"><a class="link" href="#readtestpropertiesfromfile">36.31. readTestPropertiesFromFile</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Reads a properties file as env variables
# shellcheck disable=SC2120</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 12 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>eval</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prepareForSmokeTests
retrieveApplicationUrl</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="restartapp"><a class="link" href="#restartapp">36.32. restartApp</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Restarts app with name $1
#
# $1 - app name</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 3 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deployAndRestartAppWithName
deployAppAsService
deployStubRunnerBoot</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieveapplicationurl"><a class="link" href="#retrieveapplicationurl">36.33. retrieveApplicationUrl</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Retrieves the application URL from CF</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>retrieveApplicationUrl
|-- logInToPaas
|-- propagatePropertiesForTests
|   `-- pipeline.sh/envNodeExists
`-- readTestPropertiesFromFile</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> APPLICATION_URL <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
<div class="sect2">
<h3 id="rollbacktopreviousversion-2"><a class="link" href="#rollbacktopreviousversion-2">36.34. rollbackToPreviousVersion</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Performs rollback of application (APP)
# APP - current app to deploy, VEN - old (venerable), currently running app on production
# [Clicked ROLLBACK] -&gt; APP stopped, VEN running</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 16 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>rollbackToPreviousVersion
`-- logInToPaas</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_rollback.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="setenvvar"><a class="link" href="#setenvvar">36.35. setEnvVar</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># For app with name $1 sets env var with key $2 and value $3
#
# $1 - app name
# $2 - env variable key
# $3 - env variable value</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>addMultiplePortsSupport
deployAndRestartAppWithName
deployAppNoStart
deployStubRunnerBoot
setEnvVarIfMissing</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="setenvvarifmissing"><a class="link" href="#setenvvarifmissing">36.36. setEnvVarIfMissing</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># For app with name $1 sets env var with key $2 and value $3 if that value is missing
#
# $1 - app name
# $2 - env variable key
# $3 - env variable value</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>setEnvVarIfMissing
`-- setEnvVar</pre>
</div>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="stagedeploy-2"><a class="link" href="#stagedeploy-2">36.37. stageDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># CF implementation of deployment to stage</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 12 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stageDeploy
|-- deployAndRestartAppWithName
|   |-- deployAppNoStart
|   |   `-- setEnvVar
|   |-- parseManifest
|   |-- restartApp
|   `-- setEnvVar
|-- logInToPaas
|-- pipeline.sh/deployServices
|-- propagatePropertiesForTests
|   `-- pipeline.sh/envNodeExists
`-- waitForServicesToInitialize</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testcleanup"><a class="link" href="#testcleanup">36.38. testCleanup</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Uses a community plugin to clean up the whole test space</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 2 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
<div class="sect2">
<h3 id="testdeploy-2"><a class="link" href="#testdeploy-2">36.39. testDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the CF deployment to test</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testDeploy
|-- deployAndRestartAppWithName
|   |-- deployAppNoStart
|   |   `-- setEnvVar
|   |-- parseManifest
|   |-- restartApp
|   `-- setEnvVar
|-- logInToPaas
|-- pipeline.sh/deployServices
|-- propagatePropertiesForTests
|   `-- pipeline.sh/envNodeExists
|-- testCleanup
`-- waitForServicesToInitialize</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testrollbackdeploy-2"><a class="link" href="#testrollbackdeploy-2">36.40. testRollbackDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the CF deployment to test for rollback tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 15 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testRollbackDeploy
|-- deleteApp
|-- deployAndRestartAppWithName
|   |-- deployAppNoStart
|   |   `-- setEnvVar
|   |-- parseManifest
|   |-- restartApp
|   `-- setEnvVar
|-- logInToPaas
|-- pipeline.sh/parsePipelineDescriptor
`-- propagatePropertiesForTests
    `-- pipeline.sh/envNodeExists</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; PROJECT_NAME</p>
</div>
</div>
<div class="sect2">
<h3 id="waitforservicestoinitialize"><a class="link" href="#waitforservicestoinitialize">36.41. waitForServicesToInitialize</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Waits for services to initialize</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 10 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stageDeploy
testDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> CF_BIN</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-k8s-sh1" class="sect0"><a class="link" href="#pipeline-k8s-sh1">pipeline-k8s.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-10"><a class="link" href="#name-10">37. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-k8s.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-10"><a class="link" href="#synopsis-10">38. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all Kubernetes related deployment functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-10"><a class="link" href="#functions-10">39. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>deployService
logInToPaas
testDeploy
testRollbackDeploy</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-10"><a class="link" href="#details-10">40. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-10"><a class="link" href="#script-body-10">40.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 5 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="deployservice-3"><a class="link" href="#deployservice-3">40.2. deployService</a></h3>
<div class="paragraph">
<p>Has 680 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LOWERCASE_ENV <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; PARSED_YAML <strong class="big">//</strong> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="logintopaas-2"><a class="link" href="#logintopaas-2">40.3. logInToPaas</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Contains all Kubernetes related deployment functions
# }}}</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 57 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>trap</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testDeploy
testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="testdeploy-3"><a class="link" href="#testdeploy-3">40.4. testDeploy</a></h3>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testDeploy
|-- logInToPaas
`-- pipeline.sh/deployServices</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_deploy.sh/Script-Body</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testrollbackdeploy-3"><a class="link" href="#testrollbackdeploy-3">40.5. testRollbackDeploy</a></h3>
<div class="paragraph">
<p>Has 12 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testRollbackDeploy
|-- logInToPaas
`-- pipeline.sh/parsePipelineDescriptor</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; OUTPUT_FOLDER <strong class="big">//</strong> pipeline.sh &#8594; PROJECT_NAME</p>
</div>
</div>
</div>
</div>
<h1 id="pipeline-ansible-sh1" class="sect0"><a class="link" href="#pipeline-ansible-sh1">pipeline-ansible.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-11"><a class="link" href="#name-11">41. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>pipeline-ansible.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-11"><a class="link" href="#synopsis-11">42. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contains all Ansible related deployment functions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-11"><a class="link" href="#functions-11">43. FUNCTIONS</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>__ansible_inventory
__ansible_playbook
completeSwitchOver
logInToPaas
prepareForE2eTests
prepareForSmokeTests
prodDeploy
rollbackToPreviousVersion
stageDeploy
testDeploy
testRollbackDeploy</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="details-11"><a class="link" href="#details-11">44. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-11"><a class="link" href="#script-body-11">44.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 16 line(s). No functions are called (may set up e.g. a hook, a Zle widget bound to a key, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="__ansible_inventory"><a class="link" href="#__ansible_inventory">44.2. __ansible_inventory</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Loads the Ansible inventory from the given [ANSIBLE_INVENTORY_DIR]. The convention is such
# that every environment has its own file with the name of the environment. E.g. for environment
# [test] the inventory file would be [${ANSIBLE_INVENTORY_DIR}/test].</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 8 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="__ansible_playbook"><a class="link" href="#__ansible_playbook">44.3. __ansible_playbook</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Given the presence of the Ansible inventory will first try to load a custom
# playbook from [${ANSIBLE_CUSTOM_PLAYBOOKS_DIR}/${playbook_name}]. E.g.
# for playbook with name [deploy-jvm-service.yml] will search by default for
# [${__ROOT}/ansible/custom/deploy-jvm-service.yml] to apply first. If there's
# no such file will continue applying the defaultplaybook  [${__ROOT}/ansible/deploy-jvm-service.yml]</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 21 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>completeSwitchOver
prodDeploy
rollbackToPreviousVersion
stageDeploy
testDeploy
testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> test_smoke.sh &#8594; ENVIRONMENT</p>
</div>
</div>
<div class="sect2">
<h3 id="completeswitchover-3"><a class="link" href="#completeswitchover-3">44.4. completeSwitchOver</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible switch over on production</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 5 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>completeSwitchOver
`-- __ansible_playbook</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_complete.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LANGUAGE_TYPE</p>
</div>
</div>
<div class="sect2">
<h3 id="logintopaas-3"><a class="link" href="#logintopaas-3">44.5. logInToPaas</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Since there's no concept of explicit logging in in Ansible, this method does nothing</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 1 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Not called by script or any function (may be e.g. a hook, a Zle widget, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="preparefore2etests-3"><a class="link" href="#preparefore2etests-3">44.6. prepareForE2eTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Ansible implementation of prepare for e2e tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 9 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_e2e.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> APPLICATION_URL</p>
</div>
</div>
<div class="sect2">
<h3 id="prepareforsmoketests-3"><a class="link" href="#prepareforsmoketests-3">44.7. prepareForSmokeTests</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Ansible implementation of prepare for smoke tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 14 line(s). Doesn&#8217;t call other functions.</p>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em></p>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testRollbackDeploy
test_rollback_smoke.sh/Script-Body
test_smoke.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>List of exports (to environment):</em> APPLICATION_URL <strong class="big">//</strong> STUBRUNNER_URL</p>
</div>
</div>
<div class="sect2">
<h3 id="proddeploy-3"><a class="link" href="#proddeploy-3">44.8. prodDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible deployment to prod</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 7 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prodDeploy
`-- __ansible_playbook</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LANGUAGE_TYPE</p>
</div>
</div>
<div class="sect2">
<h3 id="rollbacktopreviousversion-3"><a class="link" href="#rollbacktopreviousversion-3">44.9. rollbackToPreviousVersion</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible rolling back on production to previous version</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 15 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>rollbackToPreviousVersion
`-- __ansible_playbook</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>prod_rollback.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LANGUAGE_TYPE</p>
</div>
</div>
<div class="sect2">
<h3 id="stagedeploy-3"><a class="link" href="#stagedeploy-3">44.10. stageDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible deployment to stage</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 6 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stageDeploy
`-- __ansible_playbook</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>stage_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LANGUAGE_TYPE</p>
</div>
</div>
<div class="sect2">
<h3 id="testdeploy-4"><a class="link" href="#testdeploy-4">44.11. testDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible deployment to test</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 15 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testDeploy
`-- __ansible_playbook</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline.sh &#8594; LANGUAGE_TYPE</p>
</div>
</div>
<div class="sect2">
<h3 id="testrollbackdeploy-4"><a class="link" href="#testrollbackdeploy-4">44.12. testRollbackDeploy</a></h3>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre># Implementation of the Ansible deployment to test for rollback tests</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Has 23 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>testRollbackDeploy
|-- __ansible_playbook
`-- prepareForSmokeTests</pre>
</div>
</div>
<div class="paragraph">
<p>Called by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>test_rollback_deploy.sh/Script-Body</pre>
</div>
</div>
<div class="paragraph">
<p><em>Environment variables used:</em> pipeline-cf.sh &#8594; APPLICATION_URL <strong class="big">//</strong> pipeline-cf.sh &#8594; STUBRUNNER_URL <strong class="big">//</strong> pipeline.sh &#8594; LANGUAGE_TYPE <strong class="big">//</strong> pipeline.sh &#8594; OUTPUT_FOLDER</p>
</div>
</div>
</div>
</div>
<h1 id="build_and_upload-sh1" class="sect0"><a class="link" href="#build_and_upload-sh1">build_and_upload.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-12"><a class="link" href="#name-12">45. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>build_and_upload.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-12"><a class="link" href="#synopsis-12">46. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Executes a build of the project. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-12"><a class="link" href="#functions-12">47. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-12"><a class="link" href="#details-12">48. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-12"><a class="link" href="#script-body-12">48.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/build</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="test_deploy-sh1" class="sect0"><a class="link" href="#test_deploy-sh1">test_deploy.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-13"><a class="link" href="#name-13">49. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>test_deploy.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-13"><a class="link" href="#synopsis-13">50. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploys app to test environment. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-13"><a class="link" href="#functions-13">51. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-13"><a class="link" href="#details-13">52. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-13"><a class="link" href="#script-body-13">52.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/testDeploy</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="test_smoke-sh1" class="sect0"><a class="link" href="#test_smoke-sh1">test_smoke.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-14"><a class="link" href="#name-14">53. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>test_smoke.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-14"><a class="link" href="#synopsis-14">54. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Runs smoke tests on the test environment. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-14"><a class="link" href="#functions-14">55. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-14"><a class="link" href="#details-14">56. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-14"><a class="link" href="#script-body-14">56.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 14 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
|-- pipeline.sh/prepareForSmokeTests
`-- pipeline.sh/runSmokeTests</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="test_rollback_deploy-sh1" class="sect0"><a class="link" href="#test_rollback_deploy-sh1">test_rollback_deploy.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-15"><a class="link" href="#name-15">57. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>test_rollback_deploy.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-15"><a class="link" href="#synopsis-15">58. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If applicable, deploys current prod version to test environment.
Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-15"><a class="link" href="#functions-15">59. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-15"><a class="link" href="#details-15">60. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-15"><a class="link" href="#script-body-15">60.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 19 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/testRollbackDeploy</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="test_rollback_smoke-sh1" class="sect0"><a class="link" href="#test_rollback_smoke-sh1">test_rollback_smoke.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-16"><a class="link" href="#name-16">61. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>test_rollback_smoke.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-16"><a class="link" href="#synopsis-16">62. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If applicable, runs smoke tests on the test environment.
Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-16"><a class="link" href="#functions-16">63. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-16"><a class="link" href="#details-16">64. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-16"><a class="link" href="#script-body-16">64.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 21 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
|-- pipeline.sh/prepareForSmokeTests
`-- pipeline.sh/runSmokeTests</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="stage_deploy-sh1" class="sect0"><a class="link" href="#stage_deploy-sh1">stage_deploy.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-17"><a class="link" href="#name-17">65. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>stage_deploy.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-17"><a class="link" href="#synopsis-17">66. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploys app to stage environment. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-17"><a class="link" href="#functions-17">67. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-17"><a class="link" href="#details-17">68. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-17"><a class="link" href="#script-body-17">68.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/stageDeploy</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="stage_e2e-sh1" class="sect0"><a class="link" href="#stage_e2e-sh1">stage_e2e.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-18"><a class="link" href="#name-18">69. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>stage_e2e.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-18"><a class="link" href="#synopsis-18">70. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Runs end to end tests on stage. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-18"><a class="link" href="#functions-18">71. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-18"><a class="link" href="#details-18">72. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-18"><a class="link" href="#script-body-18">72.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 14 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
|-- pipeline.sh/prepareForE2eTests
`-- pipeline.sh/runE2eTests</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="prod_deploy-sh1" class="sect0"><a class="link" href="#prod_deploy-sh1">prod_deploy.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-19"><a class="link" href="#name-19">73. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>prod_deploy.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-19"><a class="link" href="#synopsis-19">74. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploys app to production. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-19"><a class="link" href="#functions-19">75. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-19"><a class="link" href="#details-19">76. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-19"><a class="link" href="#script-body-19">76.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/prodDeploy</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="prod_complete-sh1" class="sect0"><a class="link" href="#prod_complete-sh1">prod_complete.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-20"><a class="link" href="#name-20">77. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>prod_complete.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-20"><a class="link" href="#synopsis-20">78. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Executes a switch over of the traffic, fully to the new instance.
Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-20"><a class="link" href="#functions-20">79. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-20"><a class="link" href="#details-20">80. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-20"><a class="link" href="#script-body-20">80.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 13 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
`-- pipeline.sh/completeSwitchOver</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
<h1 id="prod_rollback-sh1" class="sect0"><a class="link" href="#prod_rollback-sh1">prod_rollback.sh(1)</a></h1>
<div class="sect1">
<h2 id="name-21"><a class="link" href="#name-21">81. NAME</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>prod_rollback.sh - a shell script</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis-21"><a class="link" href="#synopsis-21">82. SYNOPSIS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rolls back app from production. Sources pipeline.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions-21"><a class="link" href="#functions-21">83. FUNCTIONS</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="details-21"><a class="link" href="#details-21">84. DETAILS</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="script-body-21"><a class="link" href="#script-body-21">84.1. Script Body</a></h3>
<div class="paragraph">
<p>Has 19 line(s). Calls functions:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Script-Body
|-- pipeline.sh/removeProdTag
`-- pipeline.sh/rollbackToPreviousVersion</pre>
</div>
</div>
<div class="paragraph">
<p>Uses feature(s): <em>export</em>, <em>source</em></p>
</div>
<div class="paragraph">
<p><em>Exports (environment):</em> ENVIRONMENT</p>
</div>
</div>
</div>
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>